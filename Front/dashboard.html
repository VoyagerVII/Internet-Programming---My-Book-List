<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Book List - Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffedba;
        }

        header {
            background-color: #C7AE6E;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            margin: 0;
            color: #000;
            font-size: x-large;
        }

        .heading h4 {
            color: white;
            margin: 0;
        }

        .nav-links {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            gap: 15px;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .nav-links a:hover,
        .nav-links .active {
            background-color: #4caf50;
        }

        .menu-options {
            list-style-type: none;
            padding: 0;
            margin: 10px 0;
            display: flex;
            gap: 20px;
            background-color: rgb(59, 124, 70);
            padding: 10px;
        }

        .menu-options a {
            color: whitesmoke;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .menu-options a:hover {
            background-color: #4caf50;
        }
    </style>
</head>

<body>
    <header>
        <h1>Welcome back, $username.</h1>
        <nav>
            <div class="heading">
                <h4>MyBookList</h4>
            </div>

            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="./contact.html">Contact</a></li>
                <li><a class="active" href="./login.html">Logout</a></li>
            </ul>
        </nav>
    </header>
    <ul class="menu-options">
        <li><a href="#">Reading Now</a></li>
        <li><a href="#">Bookshelves</a></li>
        <li><a href="#">Add Bookshelf</a></li>
        <li><a href="#">Search</a></li>
    </ul>

    <div id="search-section">
        <input type="text" id="bookSearch" placeholder="Search for a book...">
        <button onclick="searchBook()">Search</button>
    </div>
    <div id="results"></div>
    
    <script>
        function searchBook() {
            const query = document.getElementById('bookSearch').value;
            const API_KEY = 'AIzaSyBASUxdn6U-raB77D5B5cp4KH5y90VIAMU'; // Replace with your Google Books API Key
            const endpoint = `https://www.googleapis.com/books/v1/volumes?q=${query}&key=${API_KEY}`;
    
            fetch(endpoint)
                .then(response => response.json())
                .then(data => {
                    displayResults(data);
                })
                .catch(err => {
                    console.error('Error fetching data:', err);
                });
        }
    
    function displayResults(data) {
    const resultsDiv = document.getElementById('results');
    resultsDiv.innerHTML = ''; // clear previous results

    data.items.forEach(item => {
        const bookTitle = item.volumeInfo.title;
        const bookAuthors = item.volumeInfo.authors ? item.volumeInfo.authors.join(', ') : 'Unknown Author';
        
        // Get book cover image
        const bookCover = item.volumeInfo.imageLinks ? item.volumeInfo.imageLinks.thumbnail : 'path_to_default_image.jpg';

        // Get ISBN
        let isbn13 = "N/A";
        if (item.volumeInfo.industryIdentifiers) {
            for (let identifier of item.volumeInfo.industryIdentifiers) {
                if (identifier.type === 'ISBN_13') {
                    isbn13 = identifier.identifier;
                    break;
                }
            }
        }

        // Get preview link
        const previewLink = item.volumeInfo.previewLink;

        resultsDiv.innerHTML += `<div>
                                    <img src="${bookCover}" alt="${bookTitle} cover" width="100">
                                    <h3>${bookTitle}</h3>
                                    <p>${bookAuthors}</p>
                                    <p>ISBN-13: ${isbn13}</p>
                                    <a href="${previewLink}" target="_blank">Preview Book</a>
                                 </div>`;
    });
}


    </script>
    


</body>

</html>
